# Egghead.io Compiler

Let's build our own JSX compiler, like the one at Babeljs.io. Please note that this is component is taken from one of the best React course online[Egghead.io](https://egghead.io/lessons/react-build-a-jsx-live-compiler-as-a-react-component). You'll see code here that you won't understand until after we work through a lot more concepts, but it's still fun to go play around with. Also, as you start to write components we can have a handy built in compiler to play around with.

Here's what you need to do to add a compiler. 

1. In your components folder, create a file called `JSX_Compiler.js`.
2. In that file, go ahead and add the following code. You have two choices: 
        * Copy and paste and read through a few times
        * Type it in and read as you type. 
3. Either way, once you get the code added, read through and try to decipher what is happening. Realize that you are probably not going to understand at this point. However, get outside of your comfort zone and familiarize yourself with some of the vocabulary that you're going to see in a React application.  We'll start to talk about what it means in our State modules.

```js
// Source: https://jsbin.com/qonaga/edit?js,output

import React from 'react';

class JSXCompiler extends React.Component {
    constructor() {
        super();
        this.state = {
            input: '/* add your jsx here */',
            output: '',
            err: ''
        }
    }
    update(e) {
        let code = e.target.value;
        try {
            this.setState({
                output: window.Babel
                    .transform(code, { presets: ['es2015', 'react'] })
                    .code,
                err: ''
            })
        }
        catch (err) {
            this.setState({ err: err.message })
        }
    }
    render() {
        return (
            <div>
                <header className="compiler-header">{this.state.err}</header>
                <div className="compiler-container">
                    <pre>
                        {this.state.output}
                    </pre>
                    <textarea
                        onChange={this.update.bind(this)}
                        defaultValue={this.state.input} />
                </div>
            </div>
        )
    }
}

export default JSXCompiler;

```

###Call the Component

Try not to look ahead. Try to call the componen in the JSXRules component. Spoiler ahead.....


```js
import React from 'react';
+import JSXCompiler from './JSX_Compiler'

const JSXRules = () => {
	return(
		<div className="main">
			<div className="mainDiv">
				<h1 className="section-title">JSX</h1> 
				<dl>
					<dt>Resembles HTML</dt>
					<dd>It's not. It's actually closer to JavaScript.</dd>
					<dt>"React elements"</dt>
					<dd>These are used to construct and update the DOM, or what you see on the screen.</dd>
					<dt>Not required</dt>
					<dd>You can write in Vanilla JS, but most sane people use JSX.</dd>
				</dl>
                <hr />
+				<h1>Egghead.io's JSX Compiler</h1>
+				<JSXCompiler />
			</div>
		</div>
	);
}

export default JSXRules;

    
```

###Add some starter SCSS

Let's style the compiler a little. As always, feel free to take your own direction. 

```css
  .compiler-header {
    display: block;
    height: 5vh;
    overflow: auto;
    background-color:$yellow;
    color:$red;
    font-size: 28px
  }
  
  .compiler-container {
    height: 95vh;
    display:flex;
  }
  
  pre {
    background-color: #f8f8f8;
  }
  
  pre, textarea {
    height: 95vh;
    width: 50%;
    font-family: monospace;
    font-size: 18px;
    margin: 0;
    padding: 10px;
    color: #222;
  }
  
  textarea:focus {outline: 0;}
  
```

### Babel.js
One paragraph doesn't seem like justice for one of the most important tools in all of this: Babel, which we'll need to add for this component. [Here](https://codemix.com/blog/why-babel-matters/) is a great read for this enormously popular tool. In the article you'll find a lot of information about how Babel transpiles ES6 to ES5.  Essentially, Babel lets you use virtually all of the newer features of the newest version of JavaScript(like ES7) without sacrificing backwards compatibility for older browsers. It also has awesome support for dozens of different build & test systems. While we have Babel installed in our project for other purposes, it might easiest to use a CDN. 




Also, let us remind you that this code is originally from Egghead.io. Check out the lesson for more information. 